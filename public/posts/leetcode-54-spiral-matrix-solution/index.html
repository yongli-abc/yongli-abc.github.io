<!DOCTYPE html>
<html lang="en-uk" class="scroll-smooth">
    <head><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LeetCode 54: Spiral Matrix Solution</title>
<meta name="description" content="Problem: LeetCode 54: Spiral Matrix Given a matrix of m x n elements (m rows, n columns), return all elements of the matrix in spiral order.">
<link rel="canonical" href="https://yongli-abc.github.io/posts/leetcode-54-spiral-matrix-solution/">
<link rel="robots" href="/robots.txt" />
<link rel="stylesheet" href="/css/syntax.css">
<link rel="stylesheet" href="https://yongli-abc.github.io/css/main.min.7c193f76945eca97cae471557ae10eb65711741c276b70d3b68d1837a6c767c1.css" integrity="sha256-fBk/dpReypfK5HFVeuEOtlcRdBwna3DTto0YN6bHZ8E=">

<script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=646d3eb240353a0019caeefb&product=inline-share-buttons' async='async'></script>
<link rel="icon" type="image/png" href="/favicon.png">
</head>
    <body class="max-w-screen-md px-10 mx-auto"><header class="flex flex-col sm:flex-row items-center gap-5 sm:gap-10 pt-16 py-12">
    

<figure class="flex-none w-20 h-20 rounded-full overflow-hidden" ><a href="https://yongli-abc.github.io/"><img srcset="/img/profile-picture_huff29aa5b3425babacd2b164f05d3cb9e_53129_80x80_fill_q90_box_smart1_3.png 80w" src="/img/profile-picture.png" width="512" height="512" alt="Yong Li 李泳"></a></figure>

    <div class="flex flex-col gap-5">
    <a href="https://yongli-abc.github.io/">
    
    <h3 class="text-center sm:text-left text-4xl font-extrabold text-gray-800 ">Yong Li 李泳</h3>
    
</a>
    <nav>
    <ul class="flex flex-wrap justify-center uppercase text-xs font-semibold gap-7 text-gray-500 ">
        
        
        <li class="hover:text-gray-500"><a href="/">Home 主页</a></li>
        
        <li class="hover:text-gray-500"><a href="/posts">Posts 文章</a></li>
        
        <li class="hover:text-gray-500"><a href="/categories">Categories 分类</a></li>
        
        <li class="hover:text-gray-500"><a href="/tags">Tags 标签</a></li>
        
        <li class="hover:text-gray-500"><a href="https://ko-fi.com/yongliabc">Donate 随喜</a></li>
        
    </ul>
</nav>
    </div>
</header><div id="content">
<article class="flex flex-col gap-10">
    <header class="flex flex-col gap-2">
        <h2 class="text-4xl leading-snug font-bold text-gray-900">LeetCode 54: Spiral Matrix Solution</h2>

        <div class="text-sm font-semibold text-gray-500 flex gap-3">
        
<time datetime="2023-05-09 00:00:00 &#43;0000 UTC" title="2023-05-09 00:00:00 &#43;0000 UTC">
    9 May 2023
</time>
        <p>Read time: 1 minutes</p>
        
        —
        
            <a class="hover:text-gray-500" href="/categories/coding/" alt="coding" >
                coding
                </a>
        
            <a class="hover:text-gray-500" href="/categories/solution/" alt="solution" >
                solution
                </a>
        
            <a class="hover:text-gray-500" href="/categories/programming/" alt="programming" >
                programming
                </a>
        

        </div>
    </header>
    <section class="content text-lg text-gray-800">
    <h2 id="problem-leetcode-54-spiral-matrix">Problem: LeetCode 54: Spiral Matrix</h2>
<p>Given a matrix of m x n elements (m rows, n columns), return all elements of the matrix in spiral order.</p>
<h2 id="approach">Approach</h2>
<p>The idea is to use a &lsquo;seen&rsquo; set to keep track of the elements we&rsquo;ve already visited. We use a <code>while true</code> loop with two pointers to iterate through the matrix, checking boundaries and turning around when needed. We also check if the next element is in the &lsquo;seen&rsquo; set. The loop terminates when the size of the &lsquo;seen&rsquo; set equals the total number of elements in the matrix, which means we have visited all elements.</p>
<h2 id="solution">Solution</h2>
<p>Here is the Python solution:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">spiralOrder</span>(self, matrix: List[List[int]]) <span style="color:#f92672">-&gt;</span> List[int]:
</span></span><span style="display:flex;"><span>        m <span style="color:#f92672">=</span> len(matrix)
</span></span><span style="display:flex;"><span>        n <span style="color:#f92672">=</span> len(matrix[<span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>        s <span style="color:#f92672">=</span> m <span style="color:#f92672">*</span> n
</span></span><span style="display:flex;"><span>        seen <span style="color:#f92672">=</span> set()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        dir <span style="color:#f92672">=</span> [(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>),(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>),(<span style="color:#ae81ff">0</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>),(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>)]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">=</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        d <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        res <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>            res<span style="color:#f92672">.</span>append(matrix[i][j])
</span></span><span style="display:flex;"><span>            seen<span style="color:#f92672">.</span>add((i,j))
</span></span><span style="display:flex;"><span>            ni <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> dir[d][<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>            nj <span style="color:#f92672">=</span> j <span style="color:#f92672">+</span> dir[d][<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> ni <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">or</span> ni <span style="color:#f92672">&gt;=</span> m <span style="color:#f92672">or</span> nj <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">or</span> nj <span style="color:#f92672">&gt;=</span> n <span style="color:#f92672">or</span> (ni,nj) <span style="color:#f92672">in</span> seen:
</span></span><span style="display:flex;"><span>                d <span style="color:#f92672">=</span> (d<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">%</span> len(dir)
</span></span><span style="display:flex;"><span>                i <span style="color:#f92672">+=</span> dir[d][<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>                j <span style="color:#f92672">+=</span> dir[d][<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                i <span style="color:#f92672">=</span> ni
</span></span><span style="display:flex;"><span>                j <span style="color:#f92672">=</span> nj
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> len(res) <span style="color:#f92672">==</span> s:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> res 
</span></span></code></pre></div><p>The solution starts by initializing the size of the matrix and an empty &lsquo;seen&rsquo; set. It then defines the directions of movement in a clockwise spiral order. The while loop continues until we&rsquo;ve visited all elements in the matrix. Within the loop, it adds the current element to the result list and the &lsquo;seen&rsquo; set, then it calculates the next position. If the next position is out of bounds or already seen, it changes direction and moves one step; otherwise, it moves to the next position.</p>
<p>This solution is simple and efficient, with a time complexity of <code>O(mn)</code>, where m and n are the dimensions of the matrix. It&rsquo;s a good example of how we can use a &lsquo;seen&rsquo; set to avoid revisiting elements in a matrix traversal problem.</p>

    </section>
    <footer>
        
        <div class="pb-14 inline-flex gap-2 text-gray-600 text-sm font-medium">
            
                    <a class="bg-gray-100 py-2 px-3 rounded-lg" href="/tags/coding/" alt="coding" >
                        coding
                    </a>
            
                    <a class="bg-gray-100 py-2 px-3 rounded-lg" href="/tags/python/" alt="python" >
                        python
                    </a>
            
                    <a class="bg-gray-100 py-2 px-3 rounded-lg" href="/tags/algorithm/" alt="algorithm" >
                        algorithm
                    </a>
            
                    <a class="bg-gray-100 py-2 px-3 rounded-lg" href="/tags/leetcode/" alt="leetcode" >
                        leetcode
                    </a>
            
        </div>

    </footer>
</article>
<div class="sharethis-inline-share-buttons"></div>
<script src="https://utteranc.es/client.js"
        repo="yongli-abc/yongli-abc.github.io"
        issue-term="pathname"
        label="utteranc.es"
        theme="preferred-color-scheme"
        crossorigin="anonymous"
        async>
</script>

        </div><footer class="pt-5 pb-10 grid gap-3 sm:grid-cols-2">
    <div class="text-xs font-semibold text-gray-500 order-2 sm:order-1 ">
    © 2023 — <a class="hover:text-gray-500" href="https://yongli-abc.github.io/">Yong Li 李泳</a> <span class=" font-normal ">with</span> <a class="hover:text-gray-500" href="https://github.com/nixentric/Lowkey-Hugo-Theme" target="_blank" rel="noopener noreferrer">Lowkey</a>
</div>
    <div class="text-xs font-semibold text-gray-500 order-1 sm:order-2">
    <ul class="flex sm:justify-end gap-5">
    <li><a class="hover:text-gray-500" href="https://www.linkedin.com/in/yongliabc/" target="_blank" rel="noopener noreferrer">LinkedIn</a></li><li><a class="hover:text-gray-500" href="https://twitter.com/yongliabc" target="_blank" rel="noopener noreferrer">Twitter</a></li><li><a class="hover:text-gray-500" href="https://github.com/yongli-abc" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a class="hover:text-gray-500" href="mailto:yongliabc888@gmail.com" target="_blank" rel="noopener noreferrer">Email</a></li>
    </ul>
</div>
</footer></body>
</html>
